# ШИФТ. Java. Тестовое задание
## Утилита фильтрации содержимого файлов
## Инструкция по запуску
### Версии
- **Java** - 24. 
- **Gradle** - 9.0.0
### Сторонние библиотеки
- picocli, версия 4.7.6 [GitHub](https://github.com/remkop/picocli) - для парсинга аргументов командной строки
### Сборка и запуск
#### Сборка
```
gradle clean build
```
#### Запуск
```
java -jar build/libs/filterapp.jar [опции] файл1 файл2 ...
```
или
```
gradle run --args='[опции] файл1 файл2'
```
#### Пример запуска:
- Краткая статистика, вывод в текущую папку (значения по умолчанию)
```
gradle run --args="file1.txt file2.txt"
```
- Полная статистика с указанием пути вывода и префикса
```
gradle run --args="-f -o ./output -p result_ input/data1.txt input/data2.txt"
```
- Дописывание в существующие файлы + полная статистика
```
gradle run --args="--full --append input/*.txt"
```
## Особенности реализации
### Парсинг аргументов командной строки
- Аргументы -s и -f взаимоисключающие, по умолчанию подразумевается -s (краткая статистика)
- Для всех аргументов (-o, -p, -a, -s, -f) имеется длинный аналог (--output, --path, --append, --short, --full)
### Чтение файлов
- Строки из файлов читаются по очереди в соответствии с их перечислением в командной строке и сохраняются в один список
- При чтении удаляется BOM при наличии (фиксит неправильное определение числа как строки, если оно находится первым в файле)
### Парсинг файлов
- Строки тримируются для определения чисел, но при определении как строки подаются в сыром виде (с табуляцией и пробелами)
- Научная нотация определяется как число с плавающей точкой
- Для чисел с плавающей точкой используется тип **Double**
- Для целых чисел используется тип **Long** для соответствия примерам из задания
### Сбор статистики
- Вывод статистики реализован через аннотации и рефлексию для унифицированной печати различных типов данных
